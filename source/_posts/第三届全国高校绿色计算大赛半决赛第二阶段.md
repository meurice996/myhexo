title: 第三届全国高校绿色计算大赛半决赛——OpenEuler（第一阶段）
author: meurice
date: 2020-10-24 16:33:55
tags:
---
## OpenEuler 、 Shell 编程
### 1.正则替换
系统提供了一个待处理的test.txt文件，其内容为：
```
ZhangSan25man
LiSi7man
WangWu16woman
Alex77man
```
请在右侧的编码区域，通过shell脚本将文件内容中的三列用 ,(英文逗号) 分割开来。其中，第一列为人名，由字母组成；第二列为年龄，由数字组成；第三列为性别，只会是 man 或者 woman。  

处理完成后预期结果如下：
```
#!/bin/bash
ZhangSan,25,man
LiSi,7,man
WangWu,16,woman
Alex,77,man
```
Solve：
正则表达式匹配字母+任意位数字+字母，分别以\1，\2，\3引用匹配到的内容，添加逗号即可。
```Shell
cat test.txt | sed "s/\([a-z]\)\([0-9]*[0-9]\)\([a-z]\)/\1,\2,\3/g"
```

### 2.求集合差集
系统提供了两个待处理文件a.txt和b.txt，其中文件 a.txt 中的部分内容如下：
```
Hello
My Name is Alice
What is your name
I am Bob
I came from China
Where are you from
Oh my God
```
文件 b.txt 中的部分内容如下：
```
Alice is a good boy
Bob is a nice man and he is one of my best friend
God bless you
```
将文件 a.txt 中每一行的最后一个单词作为集合 1 ；将文件 b.txt 中每一行的第一个单词作为集合 2 ；请使用 shell 语言编写程序，输出包含在集合 1 但不包含在集合 2 的所有元素。
Solve：通过正则将a.txt中最后一个空格前的全部字符替换为空，b.txt中第一个空格后的全部字符替换为空，sort后通过uniq命令解决。
```
#!/bin/bash
sed -i 's/.* //g' a.txt
sed -i 's/ .*//g' b.txt
grep -F -v -f b.txt a.txt | sort | uniq
```