title: 数据预处理——归一化与标准化
author: meurice
date: 2020-07-17 17:33:10
tags:
---
归一化和标准化都属于四种Feature scaling（特征缩放）方法：  
　　1.Rescaling(min-max normalization)  
  ![Rescaling](https://wx1.sbimg.cn/2020/07/17/C8jCa.png)
　　2.Mean normalization  
  ![Mean normalization](https://wx2.sbimg.cn/2020/07/17/C8h9n.png)
　　3.Standardization(Z-score normalization)  
  ![Standardization](https://wx1.sbimg.cn/2020/07/17/C8swh.png)
　　4.Scaling to unit length
  ![Scaling to unit length](https://wx2.sbimg.cn/2020/07/17/C8JrM.png)

## 归一化(Normalization)
### 归一化目标
　　归一化将一列数据变化到某个固定区间（范围）中，这一区间通常是[0,1]，广义的讲，可以是各种区间，例如图像中可能会映射到[0,255]。
　　归一化使得各个特征维度对目标函数的影响权重是一致的，将有量纲的表达式，经过变换，化为无量纲的表达式，成为纯量，同时使得扁平分布的数据伸缩变换成类圆形。  
　　概率模型不需要归一化，因为它们不关心变量的值，而是关心变量的分布和变量之间的条件概率，如决策树、rf。而像Adaboost、、xgboost、SVM、LR、KNN、KMeans之类的最优化问题就需要归一化。
### 归一化带来的好处
　　Feature Sacling(Normalization)对基于Gradient descent算法友好，可让算法最终收敛并且提高训练速度和精度。
  ![scaling](https://wx2.sbimg.cn/2020/07/17/C8wYT.jpg)
  
　　对于使用梯度下降算法来更新权重的训练过程，每一次更新的delta，除了与学习率有关，还与样本值本身也有关系。
  ![gd](https://wx2.sbimg.cn/2020/07/17/C8vxJ.png)
　　Xj(i)就是当前更新批次对应的样本值，因此值越大的样本单次更新权重更快，这就有可能带来收敛速度不一样甚至不收敛等问题。
### 归一化算法：
　　1.线性转换：x' = (x - min(x)) / (max(x) - min(x))  
　　2.对数函数转换：x' = lg(x) / lg(max)，其中max表示样本数据的最大值，所有样本数据均要大于等于1。  
　　3.arctan反正切函数转换：x' = arctan(x) * (2 / pi)，应注意的是，若希望映射的区间为[0,1]，则数据都应该大于等于0，小于0的数据将被映射到[-1,0]区间上。  
　　4.L2范数归一化：对向量X的每个维度数据x1, x2, …, xn都除以||x||2得到一个新向量，即
  ![l2](https://wx1.sbimg.cn/2020/07/17/C8imm.png)
　　经过L2范数归一化后，一组向量的欧式距离和它们的余弦相似度可以等价，严格数学证明可以参考[这篇文章](https://www.cnblogs.com/Kalafinaian/p/11180519.html)。
## 标准化(Standardization)
### 标准化目标
　　将数据变换为均值为0，标准差为1的分布（**不一定是正态分布**）。  
　　![st](https://wx2.sbimg.cn/2020/07/17/C8FgD.png)
## 联系与差异
### 联系
　　· Normalization和Standardization都是使数值都落入到统一的数值范围，消除了数据量纲的影响。  
### 差异
　　此处参考文章[标准化和归一化，请勿混为一谈，透彻理解数据变换](https://blog.csdn.net/weixin_36604953/article/details/102652160)。   
　　· Normalization把数据限定在需要的范围，一般为[0,1]区间；Standardization将数据变换为μ=0，σ=1的分布，但没有严格规定区间。  
　　· Normalization对数据的缩放比例仅仅和极值有关；但对于Standardization而言，若将除极大值和极小值外的数据更换，则均值和标准差也可能会因此改变，缩放比例也随之改变。