title: 2020 计蒜之道 预赛 第一场
author: meurice
date: 2020-09-20 20:11:32
tags:
---
## A.五子棋
　　题意：给出当前状态棋盘，判断下一步黑棋是否可以获胜，并输出下在哪里可获胜。  
　　思路：遍历棋盘每一处，判断每个位置能否获胜，**需要判断先手方**。  
  ![](https://wx2.sbimg.cn/2020/09/24/GzuD8.png)
```C++
//solution
#include <bits/stdc++.h>
#define IO_OP std::ios::sync_with_stdio(0); std::cin.tie(0);
#define F first
#define S second
#define V vector
#define PB push_back
#define MP make_pair
#define EB emplace_back
#define ALL(v) (v).begin(), (v).end()
#define debug(x) cerr << "Line(" << __LINE__ << ") -> " << #x << " is " << x << endl

using namespace std;

typedef long long ll;
typedef pair<int, int> pi;
typedef V<int> vi;

const int INF = 1e9 + 7;

char a[25][25], who;

bool yes() {
	for(int i = 0; i <= 20; i++) {
		for(int j = 0; j < 25; j++) {
			bool ok = true;
			for(int k = 0; k < 5; k++)
				if(a[i+k][j]!=who) ok = false;
			if(ok) return true;
		}
	}
	for(int i = 0; i < 25; i++) {
		for(int j = 0; j <= 20; j++) {
			bool ok = true;
			for(int k = 0; k < 5; k++)
				if(a[i][j+k]!=who) ok = false;
			if(ok) return true;
		}
	}
	for(int i = 0; i <= 20; i++) {
		for(int j = 0; j <= 20; j++) {
			bool ok = true;
			for(int k = 0; k < 5; k++)
				if(a[i+k][j+k]!=who) ok = false;
			if(ok) return true;
		}
	}
	for(int i = 4; i < 25; i++) {
		for(int j = 0; j <= 20; j++) {
			bool ok = true;
			for(int k = 0; k < 5; k++)
				if(a[i-k][j+k]!=who) ok = false;
			if(ok) return true;
		}
	}
	return false;
}

signed main()
{
	IO_OP;
	int cnt = 0;
	for(int i = 0; i < 25; i++)
		for(int j = 0; j < 25; j++) {
			cin >> a[i][j];
			if(a[i][j] != '.') cnt++;
		}
	who = 'x';
	if(cnt&1) who = 'o';
	bool y = 0;
	for(int i = 0; i < 25; i++) {
		for(int j = 0; j < 25; j++) {
			if(a[i][j] == '.') {
				a[i][j] = who;
				if(yes()) {
					cout << i << " " << j << endl;
					y = 1;
				}
				a[i][j] = '.'; 
			}
		}
	}
	if(!y) cout << "tie" << endl;
}
```
## B.染色(简单)
　　题意：序列中的第 i 个位置染成黑色会产生 b_i 的美感，染成白色会产生 w_i 的美感。有些区间比较特殊，如果区间内的所有数都染成黑色会额外得到 c_i 的美感；另一些区间则恰好相反，如果区间内的所有数都染成白色会额外得到 c_i 的美感。求美感总和最大值。
　　思路：  
  ![](https://wx2.sbimg.cn/2020/09/24/Gzq8m.png)
```C++
#include <bits/stdc++.h>
#define IO_OP std::ios::sync_with_stdio(0); std::cin.tie(0);
#define F first
#define S second
#define V vector
#define PB push_back
#define MP make_pair
#define EB emplace_back
#define ALL(v) (v).begin(), (v).end()
#define debug(x) cerr << "Line(" << __LINE__ << ") -> " << #x << " is " << x << endl
#define int ll

using namespace std;

typedef long long ll;
typedef pair<int, int> pi;
typedef V<int> vi;

const int INF = 1e9 + 7, N = 3e5 + 7;

int b[N], w[N], bsum[N], wsum[N], mx[N], sum[N], yes[N];

signed main()
{
	IO_OP;

	int n, m;
	cin >> n >> m;
	for(int i = 1; i <= n; i++) {
		cin >> b[i];
		bsum[i] = bsum[i - 1] + b[i];
	}
	for(int i = 1; i <= n; i++) {
		cin >> w[i];
		wsum[i] = wsum[i - 1] + w[i];
	}
	for(int i = 1; i <= n; i++) {
		mx[i] = max(b[i], w[i]);
		sum[i] = mx[i] + sum[i - 1];
	}
	int ans = 0;
	for(int i = 1; i <= m; i++) {
		int t, l, r, c;
		cin >> t >> l >> r >> c;
		for(int j = l; j <= r; j++) yes[j] = 1;
		int cur = sum[r] - sum[l-1];
		if(t == 1) {
			cur = max(cur, bsum[r] - bsum[l-1] + c);
		} else {
			cur = max(cur, wsum[r] - wsum[l-1] + c);
		}
		ans += cur;
	}
	for(int i = 1; i <= n; i++) if(!yes[i]) ans += mx[i];
	cout << ans << endl;
}
```